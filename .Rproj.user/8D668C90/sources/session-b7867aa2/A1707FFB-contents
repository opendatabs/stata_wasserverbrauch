# Basis-Image mit R (z. B. Version 4.2.3)
FROM rocker/r-ver:4.2.3

# Optional: Systemabhängige Libraries installieren (z. B. für tidyverse)
RUN apt-get update && apt-get install -y \
    libcurl4-openssl-dev \
    libssl-dev \
    libxml2-dev \
    && rm -rf /var/lib/apt/lists/*

# Installiere deine R-Packages in bestimmter Version
RUN R -e "install.packages('tidyverse', version='1.3.2', repos='https://cloud.r-project.org')"
RUN R -e "install.packages('data.table', version='1.14.6', repos='https://cloud.r-project.org')"

# Setze das Arbeitsverzeichnis im Container
WORKDIR /home/wasserverbrauch

# Kopiere dein Projekt ins Docker-Image
COPY . .

# Starte dein Analyse-Script (optional)
CMD ["Rscript", "scripts/analyse.R"]
